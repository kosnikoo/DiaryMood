# Техническое задание: Дневник настроения

**Студент:** Костоусов Никита Александрович

**Группа:** 2407сб1

---

## 1\. Описание проекта

### 1.1 Название системы

Дневник настроения

### 1.2 Назначение
Система предназначенная для отслеживания собственного состояния психического здоровья. Позволяет вести учет эмоций, психического состояния, скорректировать свое времяпровождение и получить надлежащее лечение(Курсы)

## 2\. Функциональные требования

### 2.1 Основные функции системы

Опишите 5-7 ключевых функций вашей системы. Для каждой функции укажите:

- Подробное описание функции  
- Входные данные и результат

#### Функция 1: Регистрация пользователя

- **Описание:** Добавление нового пользователя в систему. Пользователь вводит ФИО, контактные данные (телефон, email). Система автоматически генерирует уникальный номер читательского билета и устанавливает дату регистрации.
- **Входные данные:** ФИО, телефон, email  
- **Результат:** Новый читатель добавлен в базу данных, выдан уникальный номер пользователя

#### Функция 2: Добавления настроения

- **Описание:** Добавление настроения пользователя в систему. Пользователь выбирает из доступным примеров его нынешнее настроение. Система добавлят его в общий список 
- **Входные данные:** Выбранное пользователем настроение из списка доступных
- **Результат:** Новое настроение на текущую дату добавлена в базу данных

#### Функция 3: Просмотр статистики

- **Описание:** \Вывод общей статистики настроения пользователя. Пользователь переходит на страницу статистики, выбирает нужный вид статистики(За неделею/месяц/по конкретному настроению) и может посмотреть, насколько его настроение изменилось\ 
- **Входные данные:** Общая статистика основанная на сохраненных данных настроения пользователя
- **Результат:** Пользователь посмотрит статистику своих эмоций

#### Функция 4: Посмотр своего настроения в определенный день недели

- **Описание:** После выбора даты пользователем будет выведена та эмоция, которую он выбрал в это день
- **Входные данные:** Выбранная дата 
- **Результат:** Вывод даты и эмоции, выбранной и сохраненной в базе данных на эту дату ранее

#### Функция 5: Получение уведомлений о курсе

- **Описание:** После получения определенного количества статистики пользователю приходит уведомления о рекомендации записи на курсы для регулирования настроения
- **Входные данные:** Настроение, введенное пользователем за определенный промежуток времени
- **Результат:** Уведомление пользователю

#### Функция 6: Просмотр каталога курсов

- **Описание:** Если пользователь знает, на какие курсы ему надо записаться или ему просто хочется, он может перейти на страницу каталога и выбрать нужный ему курс
- **Входные данные:** Выбор пользователя
- **Результат:** Переход на страницу курса
## 3\. Структура базы данных

Опишите все таблицы (сущности) вашей базы данных. Для каждой таблицы укажите:

- Название таблицы  
- Список полей с типами данных  
- Связи с другими таблицами (Foreign Keys)

### Таблица 1: Пользователь

**Описание:** Хранит информацию о пользователе

**Поля:**
- `Id` (int, РК) — Уникальный идентификатор пользователя
- `FirstName` (str) — Имя
- `LasttName` (str) — Фамилия
- `Email` (str) — Электронная почта
- `Phone` (str) — Телефон

**Связи:**

- `[ПолеFK]` → \[ТаблицаСсылка\].\[Поле\]

### Таблица 2: Mood

**Описание:** Хранит настроение пользователя

**Поля:**
- `Id` (int, РК) — Уникальный идентификатор настроения
- `UserId` (str) — Идентификатор пользователя
- `MoodType` (str) — Тип настроения
- `MoodQuantity` (str) — Количество настроения
- `EntryDate` (datetime) — Дата настроения

**Связи:**

- `[ПолеFK]` → \[ТаблицаСсылка\].\[Поле\]

### Таблица 3: Courses

**Описание:** Хранит настроение пользователя

**Поля:**
- `Id` (int, РК) — Уникальный идентификатор курса
- `Title` (str) — Название курса
- `Description` (str) — Описание курса
- `Category` (str) — Категории настроения курса
- `Link` (str) — Ссылка на курс

**Связи:**

- `[ПолеFK]` → \[ТаблицаСсылка\].\[Поле\]

### Таблица 4: UserCourses

**Описание:** Хранит запись на курсы пользователя

**Поля:**
- `Id` (int, РК) — Уникальный идентификатор записей на курсы
- `UserId` (str) — Идентификатор пользователя
- `CoursesId` (str) — Идентификатор курса
- `CourseDate` (datetime) — Дата записи

**Связи:**

- `[ПолеFK]` → \[ТаблицаСсылка\].\[Поле\]

### Таблица 5: Notification

**Описание:** Хранит уведомления пользователю

**Поля:**
- `Id` (int, РК) — Уникальный идентификатор уведомления
- `UserId` (str) — Идентификатор пользователя
- `NotTitle` (str) — Название уведомления
- `NotDescription` (str) — Текс уведомления
- `NotDate` (datetime) — Дата уведомления

**Связи:**

- `[ПолеFK]` → \[ТаблицаСсылка\].\[Поле\]

## 4\. Основные формы приложения

#### Форма 1: MainWindow
**Назначение:** Главная страница приложения для перехода между формами

**Элементы управления:**

- TabControl — вкладки для разных разделов
- Panel — отображение статуса настроения
- Button "Добавит настроение" — Добавление настроения
- MenuStrip — главное меню приложения

**Действия:**

- Кнопка "Добавить настроение" — открывает MoodWindow
- Меню "Статистика" — открывает StatisticsWindow
- Меню "Курсы" — открывает CoursesWindow
- Меню "История" — открывает HistoryWindow

#### Форма 2: Registration
**Назначение:** Страница регистрации пользователя

**Элементы управления:**

- TextBox "Имя" — ввод имени
- TextBox "Фамилия" — ввод фамилии
- TextBox "Email" — ввод электронной почты
- TextBox "Телефон" — ввод номера телефона
- Button "Зарегистрироваться" — кнопка подтверждения
- Button "Отмена" — отмена регистраци

**Действия:**

- Кнопка "Зарегистрироваться" — сохранение пользователя и переход на MainWindow
- Кнопка "Отмена" — закрытие формы

#### Форма 3: MainWindow
**Назначение:** Главная страница приложения для перехода между формами

**Элементы управления:**

- TabControl — вкладки для разных разделов
- Panel — отображение статуса настроения
- Button "Добавит настроение" — Добавление настроения
- MenuStrip — главное меню приложения

**Действия:**

- Кнопка "Добавить настроение" → открывает MoodWindow
- Меню "Статистика" → открывает StatisticsWindow
- Меню "Курсы" → открывает CoursesWindow
- Меню "История" → открывает HistoryWindow

#### Форма 4: MainWindow
**Назначение:** Главная страница приложения для перехода между формами

**Элементы управления:**

- TabControl — вкладки для разных разделов
- Panel — отображение статуса настроения
- Button "Добавит настроение" — Добавление настроения
- MenuStrip — главное меню приложения

**Действия:**

- Кнопка "Добавить настроение" → открывает MoodWindow
- Меню "Статистика" → открывает StatisticsWindow
- Меню "Курсы" → открывает CoursesWindow
- Меню "История" → открывает HistoryWindow

## 5\. Схема переходов между формами

Опишите или нарисуйте схему, как пользователь переходит между формами.

**Текстовое описание:**

1. **Запуск приложения** → \[НазваниеПервойФормы\]  
2. **\[ПерваяФорма\]** → (после \[действия\])  
   - Если \[условие\] → \[Форма2\]  
   - Иначе → \[Форма3\]  
3. **\[ГлавнаяФорма\]** → (доступные переходы)  
   - Кнопка "\[Действие1\]" → \[Форма для действия1\]  
   - Кнопка "\[Действие2\]" → \[Форма для действия2\]  
   - Меню "Оплата" → \[PaymentWindow\]  
4. **\[ФормаРедактирования\]** → (после сохранения) → возврат на \[ГлавнаяФорма\]

**Пример:**

\#\#\# Схема навигации

\#\#\#\# При запуске приложения

\*\*Запуск\*\* → \`MainWindow\` (главная форма со списком книг)

\#\#\#\# Из MainWindow

\*\*Секция "Книги":\*\*

    \- Кнопка "Добавить книгу" → \`BookEditWindow\` (режим создания)

    \- Кнопка "Редактировать книгу" (выбрана книга в списке) → \`BookEditWindow\` (режим редактирования)

    \- Кнопка "Удалить книгу" → диалог подтверждения → удаление, остаёмся на главной

\*\*Секция "Читатели":\*\*

    \- Кнопка "Добавить читателя" → \`ReaderEditWindow\` (создание)

    \- Кнопка "Редактировать читателя" (выбран читатель) → \`ReaderEditWindow\` (редактирование)

    \- Кнопка "Удалить читателя" → диалог подтверждения → удаление

\*\*Секция "Выдачи книг":\*\*

    \- Кнопка "Выдать книгу" → \`LoanBookWindow\` (выбор книги и читателя)

    \- Кнопка "Вернуть книгу" → диалог подтверждения → обновление статуса выдачи

\*\*Секция "Оплата":\*\*

    \- Кнопка "Оплатить подписку" → \`PaymentWindow\`

    \- Показать информацию о текущих подписках

\#\#\#\# Из BookEditWindow

\*\*Кнопка "Сохранить"\*\* → сохранение данных → возврат на \`MainWindow\` (обновить список книг)

\*\*Кнопка "Отмена"\*\* → возврат на \`MainWindow\` без сохранения

\#\#\#\# Из ReaderEditWindow

\*\*Кнопка "Сохранить"\*\* → сохранение данных → возврат на \`MainWindow\` (обновить список читателей)

\*\*Кнопка "Отмена"\*\* → возврат на \`MainWindow\` без сохранения

\#\#\#\# Из LoanBookWindow

\*\*Кнопка "Выдать"\*\* → создание записи о выдаче → возврат на \`MainWindow\`

\*\*Кнопка "Отмена"\*\* → возврат на \`MainWindow\` без создания выдачи

\#\#\#\# Из PaymentWindow

\*\*Кнопка "Оплатить":\*\*

    \- Успешная оплата → сообщение об успехе → возврат на \`MainWindow\`

    \- Неудачная оплата → сообщение об ошибке → остаёмся на \`PaymentWindow\`

\*\*Кнопка "Отмена"\*\* → возврат на \`MainWindow\` без оплаты

**Диаграмма (опционально):**

Вы можете нарисовать блок-схему или диаграмму переходов в любом редакторе:

- [draw.io](https://app.diagrams.net/)  
- [Excalidraw](https://excalidraw.com/)  
- Miro

Затем вставьте изображение:

\!\[Схема переходов\](images/navigation-diagram.png)  
