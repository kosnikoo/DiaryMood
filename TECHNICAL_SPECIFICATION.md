# Техническое задание: Дневник настроения

**Студент:** Костоусов Никита Александрович

**Группа:** 2407сб1

---

## 1\. Описание проекта

### 1.1 Название системы

Дневник настроения

### 1.2 Назначение
Система предназначенная для отслеживания собственного состояния психического здоровья. Позволяет вести учет эмоций, психического состояния, скорректировать свое времяпровождение и получить надлежащее лечение(Курсы)

## 2\. Функциональные требования

### 2.1 Основные функции системы

#### Функция 1: Регистрация пользователя

- **Описание:** Добавление нового пользователя в систему. Пользователь вводит ФИО, контактные данные (телефон, email). Система автоматически генерирует уникальный номер читательского билета и устанавливает дату регистрации.
- **Входные данные:** ФИО, телефон, email  
- **Результат:** Новый читатель добавлен в базу данных, выдан уникальный номер пользователя

#### Функция 2: Добавления настроения

- **Описание:** Добавление настроения пользователя в систему. Пользователь выбирает из доступным примеров его нынешнее настроение. Система добавлят его в общий список 
- **Входные данные:** Выбранное пользователем настроение из списка доступных
- **Результат:** Новое настроение на текущую дату добавлена в базу данных

#### Функция 3: Просмотр статистики

- **Описание:** Вывод общей статистики настроения пользователя. Пользователь переходит на страницу статистики, выбирает нужный вид статистики(За неделею/месяц/по конкретному настроению) и может посмотреть, насколько его настроение изменилось\ 
- **Входные данные:** Общая статистика основанная на сохраненных данных настроения пользователя
- **Результат:** Пользователь посмотрит статистику своих эмоций

#### Функция 4: Посмотр своего настроения за неделю

- **Описание:** После выбора даты пользователем будет выведена те эмоции, в интервале которой недели они были выбраны
- **Входные данные:** Выбранная дата 
- **Результат:** Вывод календаря и эмоции, выбранной и сохраненной в базе данных на эти даты ранее

#### Функция 5: Получение уведомлений о курсе

- **Описание:** После получения определенного количества статистики пользователю приходит уведомления о рекомендации записи на курсы для регулирования настроения
- **Входные данные:** Настроение, введенное пользователем за определенный промежуток времени
- **Результат:** Уведомление пользователю

#### Функция 6: Просмотр каталога курсов

- **Описание:** Если пользователь знает, на какие курсы ему надо записаться или ему просто хочется, он может перейти на страницу каталога и выбрать нужный ему курс
- **Входные данные:** Выбор пользователя
- **Результат:** Переход на страницу курса

#### Функция 7: Покупка подписки на авторские упражнения

- **Описание:** Пользователь может купить подписку для доступа к окну "Авторские упражнения", где будут расписаны упражнения для улучшения настроения лично от авторов приложения
- **Входные данные:** Данные карты пользователя
- **Результат:** Открытия доступа к окну "Упражнения"

#### Функция 8: Просмотр авторских упранений

- **Описание:** После покупки подписки пользователь может перейти в окно "Авторские упражнения", где увидит выбор, на какой тип настроения ему хотелось бы увидеть упражнения от авторов приложения
- **Входные данные:** Выбор пользователя в списке доступных типов настроения
- **Результат:** Пользователь может просмотреть и попробовать все упражнения для улучшения своего состояния

## 3\. Структура базы данных

### Таблица 1: User

**Описание:** Хранит информацию о пользователе

**Поля:**
- `Id` (int, РК) — Уникальный идентификатор пользователя
- `FirstName` (str) — Имя
- `LasttName` (str) — Фамилия
- `Email` (str) — Электронная почта
- `Phone` (str) — Телефон
- `HashPassword` (str) — Пароль
- `SubActivation` (str) — Статус подписки

### Таблица 2: Mood

**Описание:** Хранит настроение пользователя

**Поля:**
- `Id` (int, РК) — Уникальный идентификатор настроения
- `UserId` (str) — Идентификатор пользователя
- `MoodType` (str) — Тип настроения
- `MoodQuantity` (int) — Количество настроения
- `EntryDate` (datetime) — Дата настроения

**Связи:**

- `UserId` — User.Id

### Таблица 3: Courses

**Описание:** Хранит настроение пользователя

**Поля:**
- `Id` (int, РК) — Уникальный идентификатор курса
- `Title` (str) — Название курса
- `Description` (str) — Описание курса
- `Category` (str) — Категории настроения курса
- `Link` (str) — Ссылка на курс

### Таблица 4: Notification

**Описание:** Хранит уведомления пользователю

**Поля:**

- `Id` (int, РК) — Уникальный идентификатор уведомления
- `UserId` (str) — Идентификатор пользователя
- `NotTitle` (str) — Название уведомления
- `NotDescription` (str) — Текс уведомления
- `NotMoodStatistic` (int) — Подсчет больше всего влияющего настроения
- `NotDate` (datetime) — Дата уведомления
- `NotRecomindation` (str) — Вывод рекомендованного курса по средствам вычисления самого влияющего настроения

**Связи:**

- `UserId` — User.Id
- `NotMoodStatistic` — Mood.MoodQuantity
- `NotRecomindation` — Mood.Title

### Таблица 5: Subscription

**Описание:** Хранит информацию о подписке на авторские упражнения

**Поля:**

- `Id` (int, РК) — Уникальный идентификатор подписки
- `SubStatus` (str) — Статус подписки
- `SubPrice` (str) — Цена подписки


**Связи:**

- `SubStatus` — User.SubActivation


## 4\. Основные формы приложения

#### Форма 1: MainWindow
**Назначение:** Главная страница приложения для перехода между формами

**Элементы управления:**

- TabControl — Вкладки для разных разделов
- Panel — Отображение статуса настроения
- Button "Добавит настроение" — Добавление настроения
- MenuStrip — Главное меню приложения

**Действия:**

- Кнопка "Добавить настроение" — Открывает MoodWindow
- Меню "Статистика" — Открывает StatisticsWindow
- Меню "Курсы" — Открывает CoursesWindow
- Меню "История" — Открывает HistoryWindow
- Меню "Авторские упражнения" — Открывает MoodExercisesWindow

#### Форма 2: RegistrationWindow
**Назначение:** Страница регистрации пользователя

**Элементы управления:**

- TextBox "Имя" — Ввод имени
- TextBox "Фамилия" — Ввод фамилии
- TextBox "Email" — Ввод электронной почты
- TextBox "Телефон" — Ввод номера телефона
- Button "Зарегистрироваться" — Кнопка подтверждения
- Button "Отмена" — Отмена регистраци

**Действия:**

- Кнопка "Зарегистрироваться" — сохранение пользователя и переход на MainWindow
- Кнопка "Отмена" — закрытие формы

#### Форма 3: MoodWindow
**Назначение:** Страница добавления настроения

**Элементы управления:**

- ComboBox "Тип настроения" — Выбор из предустановленных вариантов
- NumericUpDown "Интенсивность" — Количество настроения
- DatePicker "Дата" — Выбор даты записи
- Button "Сохранить" — Сохранение записи
- Button "Отмена" — Отмена операции

**Действия:**

- Кнопка "Сохранить" — Сохранение настроения и закрытие формы
- Кнопка "Отмена" — Закрытие формы без сохранения

#### Форма 4: StatisticsWindow
**Назначение:** Страница статистики

**Элементы управления:**

- ComboBox "Период" — Выбор временного интервала
- DataGrid "Детальная статистика" — Таблица с цифрами
- Button "Закрыть" — Закрытие формы

**Действия:**

- Кнопка "Закрыть" — Возврат на главную форму

#### Форма 5: HistoryWindow
**Назначение:** Страница настроения за прошлые даты

**Элементы управления:**

- DatePicker — Календарь для выбора даты
- DataGrid "Записи настроения" — Таблица с записями
- Button "Просмотр" — Просмотр выбранной записи
- Button "Удалить" — Удаление записи

**Действия:**

- Кнопка "Просмотр" — Открытие детальной информации о записи
- Кнопка "Удалить" — Удаление выбранной записи

#### Форма 6: CoursesWindow
**Назначение:** Страница курсов

**Элементы управления:**

- DataGrid "Доступные курсы" — Список курсов
- ComboBox "Категория" — Фильтр по категориям
- Button "Подробнее" — Информация о курс

**Действия:**

- Кнопка "Подробнее" — Открытие детальной информации о курсе

#### Форма 7: Notification
**Назначение:** Уведомление о рекомендации зачисления на курс

**Элементы управления:**

- MessageBox "Здравствуйте!" - Текст уведомления
- Button "Перейти на сайт" — Переход на сайт курса который был выведен как рекомендация
- Button "Закрыть" — Закрытие формы

**Действия:**

- Кнопка "Перейти на сайт" — Открытие сайта с записью на курс
- Кнопка "Закрыть" — Закрывает 

#### Форма 8: SubscriptionWindow

**Назначение:** Страница для оплаты подписки

**Элементы управления:**

- MessageBox "Для оплаты введите данные карты" - Текст уведомления
- TextBox "Номер карты" — Строка ввода данных номера карты 
- TextBox "Срок" — Строка ввода данных срока карты
- TextBox "CVC код" — Строка ввода данных специального кода карты
- Button "Подтвердить оплату" — Кнопка подтверждения оплаты
- Button "Отмена" — Кнопка отмены оплаты


**Действия:**

- Кнопка "Подтвердить оплату" — Кнопка подтверждающая оплату подписки, дав пользователю зайти на окно "Упражнения"
- Кнопка "Закрыть" — Отмена оплаты

#### Форма 9: MoodExercisesWindow

**Назначение:** Страница выбора настроения для перехода на страницу соответствующего настроения, где будут расписаны авторские задания, доступная только по подписке

**Элементы управления:**

- MessageBox "Над чем бы вы хотели сегодня позаниматься?" - Текст уведомления
- DataGrid "Доступные настроения" — Список доступных заданий по настроению пользователю

**Действия:**

#### Форма 10: AuthorExercisesWindow

**Назначение:** Страница авторский заданий

**Элементы управления:**

- MessageBox "Заголовок" - Текст заголовка
- MessageBox "Упражнения" - Текст с упражнениями курса


**Действия:**


## 5\. Схема переходов между формами

При запуске приложения
- Запуск — MainWindow

Из MainWindow
Быстрое добавление:
- Кнопка "Добавить настроение" — MoodWindow — после сохранения возврат на MainWindow

Навигация по меню:

- Меню "Статистика" — StatisticsWindow — просмотр статистики — возврат на MainWindow
- Меню "История" — HistoryWindow — работа с историей — возврат на MainWindow
- Меню "Курсы" — CoursesWindow — просмотр каталога курсов — возврат на MainWindow
- Меню "Авторские упражнения" — SubscriptionWindow — возврат на MainWindow

Работа с курсами:

- Кнопка "Подробнее" — открытие диалога с информацией о курсе — остаемся в CoursesWindow

Работа с авторскими упражнениями:

- Выбор "Настроения" — MoodExercisesWindow — остаемся в SubscriptionWindow
